function downloadVideo(){let url=document.querySelector("#url"),download_option=document.querySelector("#download_option"),download_link=document.querySelector("#download_link"),wait_message=document.querySelector("#wait_message"),error_message=document.querySelector("#error_message"),submit=document.querySelector("#submit");if(download_link.style.cssText="display: none",error_message.style.cssText="display: none",""!==url&&""!==download_option){let formData=new FormData(document.querySelector("#download_video"));formData.append("url",url.value),formData.append("download_option",download_option.value),wait_message.style.cssText="display: block",fetch("app/download.php",{method:"POST",body:formData}).then(response=>response.json()).then(result=>{result.link?(download_link.href=result.link,download_link.style.cssText="display: block"):result.error?(error_message.innerHTML=result.error,error_message.style.cssText="display: block"):(error_message.innerHTML="There was a problem downloading file.",error_message.style.cssText="display: block"),wait_message.style.cssText="display: none",submit.style.cssText="display: block"})}}